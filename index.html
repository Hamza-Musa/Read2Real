<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Read2Real - Dashboard</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <h1>ðŸ“˜ Read2Real</h1>
  <div class="nav">
    <button onclick="showDashboard()">Home</button>
    <button onclick="showBook('carnegie')">How to Win Friends</button>
  </div>
  <div id="progress" class="progress-bar-container" style="display: none">
    <div class="progress-bar" id="progressBar">0%</div>
  </div>
  <div id="app"></div>

  <script>
    const books = {
      carnegie: [
        { title: "Don't criticize, condemn, or complain", stages: [
          "ðŸŸ¢ Hold back criticism in a convo with family",
          "ðŸŸ¡ Let someone at work vent without judging",
          "ðŸ”´ Avoid correcting someone in public debate"] },
        { title: "Give honest and sincere appreciation", stages: [
          "ðŸŸ¢ Thank a family member for something small",
          "ðŸŸ¡ Compliment a coworker's effort",
          "ðŸ”´ Give heartfelt thanks to a stranger/service worker"] },
        { title: "Arouse in the other person an eager want", stages: [
          "ðŸŸ¢ Ask sibling to help so you can both relax sooner",
          "ðŸŸ¡ Frame a task as helpful to team at work",
          "ðŸ”´ Show someone how your idea benefits them"] },
        { title: "Become genuinely interested in other people", stages: [
          "ðŸŸ¢ Ask a family member about their day",
          "ðŸŸ¡ Ask colleague about their hobby",
          "ðŸ”´ Ask a stranger what theyâ€™re into"] },
        { title: "Smile", stages: [
          "ðŸŸ¢ Smile at sibling or parent",
          "ðŸŸ¡ Smile at cashier or coworker",
          "ðŸ”´ Smile first at stranger"] },
        { title: "Remember that a person's name is the sweetest sound", stages: [
          "ðŸŸ¢ Say a family member's name in convo",
          "ðŸŸ¡ Greet a colleague by name",
          "ðŸ”´ Ask and remember a new person's name"] },
        { title: "Be a good listener", stages: [
          "ðŸŸ¢ Let a family member speak without interrupting",
          "ðŸŸ¡ Ask open-ended questions at work",
          "ðŸ”´ Listen to a strangerâ€™s story"] },
        { title: "Talk in terms of the other personâ€™s interests", stages: [
          "ðŸŸ¢ Talk about siblingâ€™s fav game",
          "ðŸŸ¡ Discuss coworkerâ€™s hobby",
          "ðŸ”´ Shift convo to other personâ€™s passion"] },
        { title: "Make the other person feel important", stages: [
          "ðŸŸ¢ Thank mum or dad sincerely",
          "ðŸŸ¡ Tell teammate theyâ€™re appreciated",
          "ðŸ”´ Praise someone publicly"] },
        { title: "Avoid arguments", stages: [
          "ðŸŸ¢ Drop a petty sibling argument",
          "ðŸŸ¡ Let small work disagreement go",
          "ðŸ”´ Stay calm during heated convo"] },
        { title: "Respect opinions; never say 'you're wrong'", stages: [
          "ðŸŸ¢ Say â€˜Interesting pointâ€™ to family",
          "ðŸŸ¡ Say â€˜Thatâ€™s fairâ€™ at work",
          "ðŸ”´ Validate opposing view in debate"] },
        { title: "Admit when you're wrong", stages: [
          "ðŸŸ¢ Say â€˜my badâ€™ to family",
          "ðŸŸ¡ Own a mistake at work",
          "ðŸ”´ Publicly admit fault"] },
        { title: "Begin in a friendly way", stages: [
          "ðŸŸ¢ Smile at sibling before chat",
          "ðŸŸ¡ Say something nice before feedback",
          "ðŸ”´ Compliment before conflict"] },
        { title: "Get 'yes, yes' early", stages: [
          "ðŸŸ¢ Ask easy agrees before favor",
          "ðŸŸ¡ Ask colleague questions theyâ€™ll say yes to",
          "ðŸ”´ Use agreement before negotiation"] },
        { title: "Let the other person talk more", stages: [
          "ðŸŸ¢ Let sibling vent fully",
          "ðŸŸ¡ Let client speak more than you",
          "ðŸ”´ Let stranger lead convo"] },
        { title: "Let them feel the idea is theirs", stages: [
          "ðŸŸ¢ Ask for advice from family",
          "ðŸŸ¡ Let coworker take ownership",
          "ðŸ”´ Give full credit to someone else"] },
        { title: "See things from their POV", stages: [
          "ðŸŸ¢ Ask why parent said something",
          "ðŸŸ¡ Understand coworkerâ€™s stress",
          "ðŸ”´ Validate strangerâ€™s issue"] },
        { title: "Be sympathetic", stages: [
          "ðŸŸ¢ Say â€˜I get thatâ€™ to family",
          "ðŸŸ¡ Say â€˜Iâ€™d feel that tooâ€™ at work",
          "ðŸ”´ Empathize with strangerâ€™s frustration"] },
        { title: "Appeal to nobler motives", stages: [
          "ðŸŸ¢ â€˜Youâ€™re always helpfulâ€™ to sibling",
          "ðŸŸ¡ â€˜You care about the teamâ€™",
          "ðŸ”´ â€˜Youâ€™re a natural leaderâ€™"] },
        { title: "Dramatize ideas", stages: [
          "ðŸŸ¢ Use humor/story with sibling",
          "ðŸŸ¡ Use examples in pitch",
          "ðŸ”´ Tell powerful story in argument"] },
        { title: "Throw down a challenge", stages: [
          "ðŸŸ¢ Friendly family dare",
          "ðŸŸ¡ Team goal at work",
          "ðŸ”´ Inspire challenge in peer"] },
        { title: "Begin with praise", stages: [
          "ðŸŸ¢ Praise sibling before critique",
          "ðŸŸ¡ Compliment coworker",
          "ðŸ”´ Public praise before feedback"] },
        { title: "Call out mistakes indirectly", stages: [
          "ðŸŸ¢ Light joke with family",
          "ðŸŸ¡ Ask guiding question",
          "ðŸ”´ Share a similar story"] },
        { title: "Talk about your own mistakes first", stages: [
          "ðŸŸ¢ â€˜I used to do thatâ€™",
          "ðŸŸ¡ Admit previous mistake",
          "ðŸ”´ Share a personal fail"] },
        { title: "Ask questions instead of giving orders", stages: [
          "ðŸŸ¢ â€˜Can you help with this?â€™",
          "ðŸŸ¡ Offer 2 options",
          "ðŸ”´ Ask for ideas"] },
        { title: "Let them save face", stages: [
          "ðŸŸ¢ Stay silent on mistake",
          "ðŸŸ¡ Let them correct themselves",
          "ðŸ”´ Change topic to defuse"] },
        { title: "Praise slightest improvement", stages: [
          "ðŸŸ¢ â€˜Youâ€™ve improved!â€™",
          "ðŸŸ¡ Acknowledge small step",
          "ðŸ”´ Celebrate small win"] },
        { title: "Give a fine reputation to live up to", stages: [
          "ðŸŸ¢ â€˜Youâ€™re the peacemakerâ€™",
          "ðŸŸ¡ â€˜People count on youâ€™",
          "ðŸ”´ â€˜Youâ€™re the exampleâ€™"] },
        { title: "Encourage; make faults seem easy to fix", stages: [
          "ðŸŸ¢ â€˜Youâ€™ll fix this quickâ€™",
          "ðŸŸ¡ Small tweak praise",
          "ðŸ”´ Frame as learning curve"] },
        { title: "Make them happy to do what you suggest", stages: [
          "ðŸŸ¢ Frame as fun",
          "ðŸŸ¡ Offer reward/benefit",
          "ðŸ”´ Tie to goal"] }
      ]
    };

    const state = JSON.parse(localStorage.getItem("read2real_progress")) || {};

    function saveProgress() {
      localStorage.setItem("read2real_progress", JSON.stringify(state));
    }

    function updateProgress(bookKey) {
      const challenges = books[bookKey];
      const total = challenges.length * 3;
      const completed = Object.keys(state).filter(k => k.startsWith(bookKey)).filter(k => state[k]).length;
      const percent = Math.floor((completed / total) * 100);
      document.getElementById("progress").style.display = "block";
      const progress = document.getElementById("progressBar");
      progress.style.width = percent + "%";
      progress.textContent = percent + "%";
    }

    function toggle(book, id) {
      const key = `${book}_${id}`;
      state[key] = !state[key];
      saveProgress();
      showBook(book);
    }

    function showDashboard() {
      document.getElementById("progress").style.display = "none";
      const app = document.getElementById("app");
      app.innerHTML = "";
      const bookList = document.createElement("div");
      bookList.className = "book-list";
      bookList.innerHTML = "<h2>Available Books</h2><ul><li><button onclick=\"showBook('carnegie')\">How to Win Friends and Influence People</button></li></ul>";
      app.appendChild(bookList);
    }

    function showBook(bookKey) {
      const app = document.getElementById("app");
      app.innerHTML = "";
      const challenges = books[bookKey];

      challenges.forEach((challenge, i) => {
        const div = document.createElement("div");
        div.className = "challenge";
        const title = document.createElement("h3");
        title.textContent = `${i + 1}. ${challenge.title}`;
        div.appendChild(title);

        challenge.stages.forEach((stage, j) => {
          const id = `${i}_${j}`;
          const key = `${bookKey}_${id}`;
          const p = document.createElement("p");
          p.className = "stage" + (state[key] ? " completed" : "");
          p.textContent = stage;
          p.style.cursor = "pointer";
          p.onclick = () => toggle(bookKey, id);
          div.appendChild(p);
        });
        app.appendChild(div);
      });
      updateProgress(bookKey);
    }

    showDashboard();
  </script>
</body>
</html>
